(function(e){function t(t){for(var n,l,r=t[0],s=t[1],_=t[2],u=0,b=[];u<r.length;u++)l=r[u],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&b.push(c[l][0]),c[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);i&&i(t);while(b.length)b.shift()();return a.push.apply(a,_||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,r=1;r<o.length;r++){var s=o[r];0!==c[s]&&(n=!1)}n&&(a.splice(t--,1),e=l(l.s=o[0]))}return e}var n={},c={app:0},a=[];function l(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=e,l.c=n,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var _=0;_<r.length;_++)t(r[_]);var i=s;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"4ffd":function(e,t,o){e.exports=o.p+"img/logo.81ee4854.png"},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23");function c(e,t,o,c,a,l){var r=Object(n["x"])("router-view");return Object(n["s"])(),Object(n["d"])(Object(n["y"])(l.layout),null,{default:Object(n["E"])((function(){return[Object(n["j"])(r)]})),_:1})}function a(e,t,o,c,a,l){var r=Object(n["x"])("router-view");return Object(n["s"])(),Object(n["d"])(r,{class:"body__block-content block block_bg mg_2"})}var l={name:"deafult-layout"},r=o("6b0d"),s=o.n(r);const _=s()(l,[["render",a]]);var i=_,u={class:"body-container"};function b(e,t,o,c,a,l){var r=Object(n["x"])("SidebarLeft"),s=Object(n["x"])("router-view"),_=Object(n["x"])("SidebarRight");return Object(n["s"])(),Object(n["f"])("div",u,[Object(n["j"])(r),Object(n["j"])(s,{class:"body__content block block_bg mg_2"}),Object(n["j"])(_)])}var f=o("4ffd"),d=o.n(f),x={class:"body__sidebar mg_t_2"},m={class:"sidebar__header block block_component block_bg link flex flex_row"},p=Object(n["g"])("img",{src:d.a,class:"header__logo logo mg_r_1",alt:"Logo"},null,-1),g={class:"flex flex_col flex_j_c"},j=Object(n["i"])("Story To Read"),k=Object(n["h"])('<nav class="block block_nopadding mg_t_2 mg_b_2"><ul class="nav flex flex_col flex_al_s flex_j_s"><li class="nav__items mg_b_1"><a href="#" class="link flex flex_row flex_al_c flex_j_s p_t_1 p_b_1 p_l_2 p_r_2 text text_medium"><i class="icon_circle link mg_r_1"></i> Главная</a></li><li class="nav__items mg_b_1"><a href="#" class="link flex flex_row flex_al_c flex_j_s p_t_1 p_b_1 p_l_2 p_r_2 text text_medium"><i class="icon_circle link mg_r_1"></i> Рекомендации</a></li><li class="nav__items mg_b_1"><a href="#" class="link flex flex_row flex_al_c flex_j_s p_t_1 p_b_1 p_l_2 p_r_2 text text_medium"><i class="icon_circle link mg_r_1"></i> Лента обновлений</a></li><li class="nav__items mg_b_1"><a href="#" class="link flex flex_row flex_al_c flex_j_s p_t_1 p_b_1 p_l_2 p_r_2 text text_medium"><i class="icon_circle link mg_r_1"></i> Разработчикам</a></li><li class="nav__items mg_b_1"><a href="#" class="link flex flex_row flex_al_c flex_j_s p_t_1 p_b_1 p_l_2 p_r_2 text text_medium"><i class="icon_circle link mg_r_1"></i> Поддержать проект</a></li></ul></nav>',1);function O(e,t,o,c,a,l){var r=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["f"])("div",x,[Object(n["g"])("header",m,[p,Object(n["g"])("div",g,[Object(n["j"])(r,{to:"/",class:"text_white-alw text_big text_bold text_left"},{default:Object(n["E"])((function(){return[j]})),_:1})])]),k])}var h={name:"SidebarLeftComponent"};const v=s()(h,[["render",O]]);var y=v,A={class:"body__sidebar mg_t_2"},w={key:0,class:"sidebar__profile block block_bg flex flex_col"},G={class:"sidebar__profile-info flex flex_col flex_j_c flex_al_c"},I=Object(n["g"])("span",{class:"text_white text_big text_bold text_left mg_b_2"},"Добро пожаловать!",-1),P=Object(n["g"])("span",{class:"btn text_grey text_medium mg_b_1 text_center",style:{width:"150px"}},"Регистрация",-1),S=Object(n["i"])("Вход"),B={key:1,class:"sidebar__profile block block_bg flex flex_col"},D=["src"],L={class:"sidebar__profile-info flex flex_col flex_j_c flex_al_c"},C={class:"text_white text_big text_bold text_left mg_b_1"},M=Object(n["h"])('<nav class="block block_nopadding mg_t_2 mg_b_2"><ul class="nav flex flex_col flex_al_s flex_j_s"><li class="nav__items mg_b_1"><a href="#" class="flex flex_row flex_al_c flex_j_s p_t_1 p_b_1 p_l_2 p_r_2 text text_medium"><i class="icon_circle mg_r_1"></i> Профиль</a></li><li class="nav__items mg_b_1"><a href="#" class="flex flex_row flex_al_c flex_j_s p_t_1 p_b_1 p_l_2 p_r_2 text text_medium"><i class="icon_circle mg_r_1"></i> Мои книги</a></li><li class="nav__items mg_b_1"><a href="#" class="flex flex_row flex_al_c flex_j_s p_t_1 p_b_1 p_l_2 p_r_2 text text_medium"><i class="icon_circle mg_r_1"></i> Уведомления</a></li><li class="nav__items mg_b_1"><a href="#" class="flex flex_row flex_al_c flex_j_s p_t_1 p_b_1 p_l_2 p_r_2 text text_medium"><i class="icon_circle mg_r_1"></i> Статистика</a></li><li class="nav__items mg_b_1"><a href="#" class="flex flex_row flex_al_c flex_j_s p_t_1 p_b_1 p_l_2 p_r_2 text text_medium"><i class="icon_circle mg_r_1"></i> Выйти</a></li></ul></nav>',1);function R(e,t,o,c,a,l){var r=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["f"])("div",A,[e.checkAuthGetter?(Object(n["s"])(),Object(n["f"])("div",B,[Object(n["g"])("img",{src:a.apiURI+e.userInfoGetter.avatar,alt:"Profile",class:"sidebar__profile-img"},null,8,D),Object(n["g"])("div",L,[Object(n["g"])("span",C,Object(n["A"])(e.userInfoGetter.nickname),1)])])):(Object(n["s"])(),Object(n["f"])("div",w,[Object(n["g"])("div",G,[I,P,Object(n["j"])(r,{to:"/auth",class:"btn btn_black text_grey text_medium text_center",style:{width:"150px"}},{default:Object(n["E"])((function(){return[S]})),_:1})])])),M])}var $=o("5502"),E={data:function(){return{apiURI:"http://".concat("206.81.27.144","/")}},name:"SidebarRightComponent",computed:Object($["b"])(["checkAuthGetter","userInfoGetter"])};const K=s()(E,[["render",R]]);var U=K,q={name:"main-layout",components:{SidebarRight:U,SidebarLeft:y}};const H=s()(q,[["render",b]]);var T=H,F=o("852e"),J=o.n(F),V={name:"App",computed:{layout:function(){return console.log(),this.$route.meta.layout+"-layout"||!1}},components:{defaultLayout:i,mainLayout:T},mounted:function(){var e=J.a.get("key"),t=J.a.get("id");console.log(e,t),"undefined"!=typeof e&&null!==e&&(this.$store.dispatch("userConfirmAuthAction",{authKey:e,userID:t}),this.$store.dispatch("userInfoGetAction",t))}};o("cc29");const N=s()(V,[["render",c]]);var z=N,Q=o("6c02"),W={class:"content__filter-container flex flex_j_sb flex_al_c"},X=Object(n["g"])("i",{class:"icon_circle mg_r_1"},null,-1),Y={class:"text text grey text_medium"},Z=Object(n["g"])("div",{class:"content__filter-sort block block_component block_component_bg flex flex_j_sb flex_al_c"},[Object(n["g"])("i",{class:"icon_circle"}),Object(n["g"])("i",{class:"icon_circle"})],-1);function ee(e,t,o,c,a,l){var r=this,s=Object(n["x"])("BookComponent");return Object(n["s"])(),Object(n["f"])("div",null,[Object(n["g"])("div",W,[Object(n["g"])("button",{class:"btn content__filter block block_component block_component_bg flex flex_al_c flex_j_c",onClick:t[0]||(t[0]=function(){return r.bookSortButton&&r.bookSortButton.apply(r,arguments)})},[X,Object(n["g"])("span",Y,Object(n["A"])(this.bookArange),1)]),Z]),(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["w"])(e.bookGetAllGetter,(function(e,t){return Object(n["s"])(),Object(n["d"])(s,{"is-read-link":"true","book-data":e,key:t},null,8,["book-data"])})),128))])}o("99af"),o("b0c0"),o("a4d3"),o("e01a");var te={class:"content__books-container mg_t_2 flex flex_col flex_al_c flex_j_s"},oe={class:"books-container__item flex flex_row flex_j_sb flex_al_s mg_b_2"},ne={class:"books-container__poster-container"},ce=["src"],ae=Object(n["h"])('<div class="poster-container__rating flex flex_al_c flex_j_c"><i class="icon_circle mg_r_1"></i><span class="text text_small">1</span></div><div class="poster-container__favorite flex flex_al_c flex_j_c"><i class="icon_circle"></i></div><div class="poster-container__status poster-container__status_main flex flex_al_c flex_j_c"><span class="text text_small text_bold text_black">Завершено</span></div>',3),le={class:"books-container__info block block_component_bg mg_l_2 flex flex_col flex_al_s flex_j_sb"},re={class:"flex flex_col flex_al_s"},se={class:"text text_white text_big text_bold mg_b_1"},_e={class:"books-container__genres flex flex_j_s flex_wrap mg_b_1"},ie={class:"text text_small text_grey text_justify mg_b_1"},ue=Object(n["i"])("Читать!");function be(e,t,o,c,a,l){var r=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["f"])("div",te,[Object(n["g"])("div",oe,[Object(n["g"])("div",ne,[Object(n["g"])("img",{src:"".concat(a.ServerIP).concat(o.bookData.cover),alt:"Book",class:"poster-container__img"},null,8,ce),ae]),Object(n["g"])("div",le,[Object(n["g"])("div",re,[Object(n["g"])("span",se,Object(n["A"])(o.bookData.name),1),Object(n["j"])(r,{to:"/user/".concat(o.bookData.author.id),class:"text text_grey text_small-medium mg_b_1"},{default:Object(n["E"])((function(){return[Object(n["i"])(Object(n["A"])(o.bookData.author.nickname),1)]})),_:1},8,["to"]),Object(n["g"])("div",_e,[(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["w"])(o.bookData.genres,(function(e,t){return Object(n["s"])(),Object(n["d"])(r,{to:"",class:"link mg_r_1 text text_small-medium",key:t},{default:Object(n["E"])((function(){return[Object(n["i"])(Object(n["A"])(e.title),1)]})),_:2},1024)})),128))]),Object(n["g"])("p",ie,Object(n["A"])(o.bookData.description),1)]),o.isReadLink?(Object(n["s"])(),Object(n["d"])(r,{key:0,to:"/book/".concat(o.bookData.id),class:"btn btn_active text text_medium text_white-alw"},{default:Object(n["E"])((function(){return[ue]})),_:1},8,["to"])):Object(n["e"])("",!0)])])])}var fe={ServerIP:"http://".concat("206.81.27.144")},de={name:"BookComponent",data:function(){return{ServerIP:fe.ServerIP}},props:["isReadLink","bookData"]};const xe=s()(de,[["render",be]]);var me=xe,pe={name:"Home",data:function(){return{bookArangeArray:["newest","oldest","popular","recommended"],bookArange:"newest"}},mounted:function(){this.getBooks(0,15)},components:{BookComponent:me},computed:Object($["b"])(["bookGetAllGetter"]),methods:{bookSortButton:function(){this.bookArange=this.bookArangeArray[this.bookArangeArray.indexOf(this.bookArange)+1],void 0===this.bookArange&&(this.bookArange=this.bookArangeArray[0]),console.log(this.bookArange),this.getBooks(0,15)},getBooks:function(e,t){this.$store.dispatch("bookGetAllAction",{arrange:this.bookArange,shift:e,count:t})}}};const ge=s()(pe,[["render",ee]]);var je=ge,ke={class:"flex flex_col"},Oe=Object(n["g"])("span",{class:"text text_white text_biggest text_bold text_center flex_j_c flex_al_c mg_b_2"},"Авторизация",-1),he=Object(n["g"])("button",{type:"submit",class:"btn"},"Login",-1);function ve(e,t,o,c,a,l){return Object(n["s"])(),Object(n["f"])("div",ke,[Oe,Object(n["g"])("form",{class:"flex flex_j_s flex_al_c flex_col",onSubmit:t[2]||(t[2]=Object(n["G"])((function(){return l.auth&&l.auth.apply(l,arguments)}),["prevent"]))},[Object(n["F"])(Object(n["g"])("input",{required:"","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.userLogin=e}),type:"text",placeholder:"Name",class:"input"},null,512),[[n["C"],a.userLogin]]),Object(n["F"])(Object(n["g"])("input",{required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.userPass=e}),type:"password",placeholder:"Password",class:"input mg_2"},null,512),[[n["C"],a.userPass]]),he],32)])}var ye={name:"auth-view",data:function(){return{userLogin:"",userPass:""}},methods:{auth:function(){var e=this,t=this.userLogin,o=this.userPass;this.$store.dispatch("userAuthAction",{userLogin:t,userPass:o}).then((function(){return e.$router.push("/")})).catch((function(e){return console.log(e)}))}}};const Ae=s()(ye,[["render",ve]]);var we=Ae;function Ge(e,t,o,c,a,l){var r=Object(n["x"])("BookComponent");return Object(n["s"])(),Object(n["f"])("div",null,[Object(n["j"])(r,{"is-read-link":"false","book-data":e.bookGetByIDGetter},null,8,["book-data"])])}var Ie={name:"BookHome",props:{id:{required:!0}},components:{BookComponent:me},computed:Object($["b"])(["bookGetByIDGetter"]),mounted:function(){this.getBook()},methods:{getBook:function(){return this.$store.dispatch("bookGetByIDAction",this.id)}}};const Pe=s()(Ie,[["render",Ge]]);var Se=Pe,Be=[{path:"/",name:"HomePage",meta:{layout:"main"},component:je},{path:"/auth",name:"AuthPage",meta:{layout:"default"},component:we},{path:"/book/:id",name:"BookPage",meta:{layout:"main"},props:!0,component:Se}],De=Object(Q["a"])({history:Object(Q["b"])("/"),routes:Be}),Le=De,Ce=o("bc3a"),Me=o.n(Ce),Re={actions:{userAuthAction:function(e,t){Me.a.get("".concat(fe.ServerIP,"/auth/login?login=").concat(t.userLogin,"&password=").concat(t.userPass)).then((function(t){e.commit("userAuthMutation",t.data.result.data),J.a.set("key",t.data.result.data.key),J.a.set("id",t.data.result.data.id)}))},userInfoGetAction:function(e,t){Me.a.get("".concat(fe.ServerIP,"/user/get?userID=").concat(t)).then((function(t){e.commit("userInfoGetMutatuion",t.data.user.data)}))},userConfirmAuthAction:function(e,t){var o=t.userID,n=t.authKey;e.commit("userConfirmAuthMutatuion",{userID:o,authKey:n})}},mutations:{userAuthMutation:function(e,t){e.id=t.id,e.key=t.key,e.isAuth=!0},userConfirmAuthMutatuion:function(e,t){var o=t.userID,n=t.authKey;e.key=n,e.id=o,e.isAuth=!0},userInfoGetMutatuion:function(e,t){e.nickname=t.nickname,e.username=t.username,e.avatar=t.avatar}},state:{key:null,id:null,avatar:null,nickname:null,username:null,isAuth:!1},getters:{userInfoGetter:function(e){return{id:e.id,avatar:e.avatar,nickname:e.nickname,username:e.username}},checkAuthGetter:function(e){return e.isAuth}}},$e=o("53ca"),Ee={actions:{bookGetAllAction:function(e,t){var o=t.arrange,n=t.shift,c=t.count;Me.a.get("".concat(fe.ServerIP,"/book/get?arrange=").concat(void 0!==Object($e["a"])(o)?o:"newest","&shift=").concat(void 0!==Object($e["a"])(n)?n:0,"&count=").concat(void 0!==Object($e["a"])(c)?c:12)).then((function(t){e.commit("bookGetAllMutation",t.data.result.data)}))},bookGetByIDAction:function(e,t){Me.a.get("".concat(fe.ServerIP,"/book/getOne?bookID=").concat(t)).then((function(t){e.commit("bookGetByIDMutation",t.data.result.data)}))}},mutations:{bookGetAllMutation:function(e,t){e.books=t,e.books_count=t.length},bookGetByIDMutation:function(e,t){e.bookOne=t}},state:{books:[],bookOne:[],books_count:0},getters:{bookGetAllGetter:function(e){return e.books},bookGetByIDGetter:function(e){return e.bookOne}}},Ke=Object($["a"])({modules:{user:Re,book:Ee}});Object(n["c"])(z).use(Ke).use(Le).mount("#app")},6796:function(e,t,o){},cc29:function(e,t,o){"use strict";o("6796")}});
//# sourceMappingURL=app.67759f50.js.map